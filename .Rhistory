# See https://books.ropensci.org/targets/hpc.html
# to learn about your options.
targets::tar_make()
#!/usr/bin/env Rscript
# This is a helper script to run the pipeline.
# Choose how to execute the pipeline below.
# See https://books.ropensci.org/targets/hpc.html
# to learn about your options.
targets::tar_make()
# targets::tar_make_clustermq(workers = 2) # nolint
# targets::tar_make_future(workers = 2) # nolint
ro_lm1_1 <- glm(voted_2r ~ swd_w1 + varcat + sex + studii, data = ro_2009_final)
tab_model(list(ro_lm1_1))
#!/usr/bin/env Rscript
# This is a helper script to run the pipeline.
# Choose how to execute the pipeline below.
# See https://books.ropensci.org/targets/hpc.html
# to learn about your options.
targets::tar_make()
# targets::tar_make_clustermq(workers = 2) # nolint
# targets::tar_make_future(workers = 2) # nolint
tar_load(ro_2012_p1v1)
tar_load(ro_2012_p1v2)
ro_2012_p1v1$ID
ro_2012_p1v2$ID
ro_2012_p1v2$Id
ro_2012_p1v1$age
ro_2012_p1v1 %>% left_join(., ro_2012_p1v2 %>% rename_with(., ~paste0(.x, "_w2"), .cols = -c(Id), by = c("ID"="Id"))
)
ro_2012_p1v1 %>% left_join(., ro_2012_p1v2 %>% rename_with(., ~paste0(.x, "_w2"), .cols = -c(Id)), by = c("ID"="Id"))
ro_2012_p1v1 %>% left_join(., ro_2012_p1v2 %>% rename_with(., ~paste0(.x, "_w2"), .cols = -c(Id)), by = c("ID"="Id")) %>% select(ID, age)
ro_2012_p1v2$age
ro_2012_p1v1$age
ro_2012_p1v1 %>% left_join(., ro_2012_p1v2 %>% rename_with(., ~paste0(.x, "_w2"), .cols = -c(Id)), by = c("ID"="Id")) %>% select(ID, age, age_w2)
tar_load(ro_2012_p1v3)
ro_2012_p1v3$ID
#!/usr/bin/env Rscript
# This is a helper script to run the pipeline.
# Choose how to execute the pipeline below.
# See https://books.ropensci.org/targets/hpc.html
# to learn about your options.
targets::tar_make()
# targets::tar_make_clustermq(workers = 2) # nolint
# targets::tar_make_future(workers = 2) # nolint
tar_load(ro_2012_p1)
ro_2012_p1$D10_w2
ro_2012_p1$D10_w3
#!/usr/bin/env Rscript
# This is a helper script to run the pipeline.
# Choose how to execute the pipeline below.
# See https://books.ropensci.org/targets/hpc.html
# to learn about your options.
targets::tar_make()
# targets::tar_make_clustermq(workers = 2) # nolint
# targets::tar_make_future(workers = 2) # nolint
tar_load(ro_2012_p1)
ro_2012_p1$D10
ro_2012_p1$Q5LH_AG1_w3
table(ro_2012_p1$Q5LH_AG1_w3)
table(ro_2012_p1$Q5LH_AG2_w3)
ro_2012_p1$Q5LH_AG2_w3
ro_2012_p1$Q5LH_AG1_w3
ro_2012_p1$Q5LH_AG2_w3
ro_2012_p1$Q5LH_AG2_w3
ro_2012_p1$Q5LH_AG2_w3
ro_2012_p1$Q5LH_AG1_w3
names(attr(ro_2012_p1$Q5LH_AG1_w3, "labels"))
names(attr(ro_2012_p1$Q5LH_AG2_w3, "labels"))
ro_2012_p1$age
ro_2012_p1$EDUC
ro_2012_p1$EDUC_w2
ro_2012_p1$EDUC
table(ro_2012_p1$EDUC)
names(attr(ro_2012_p1$EDUC, "labels"))
#!/usr/bin/env Rscript
# This is a helper script to run the pipeline.
# Choose how to execute the pipeline below.
# See https://books.ropensci.org/targets/hpc.html
# to learn about your options.
targets::tar_make()
ro_2012_p1$GEN
#!/usr/bin/env Rscript
# This is a helper script to run the pipeline.
# Choose how to execute the pipeline below.
# See https://books.ropensci.org/targets/hpc.html
# to learn about your options.
targets::tar_make()
# targets::tar_make_clustermq(workers = 2) # nolint
# targets::tar_make_future(workers = 2) # nolint
ro_2012_p1$age
as.numeric(ro_2012_p1$age)
#!/usr/bin/env Rscript
# This is a helper script to run the pipeline.
# Choose how to execute the pipeline below.
# See https://books.ropensci.org/targets/hpc.html
# to learn about your options.
targets::tar_make()
# targets::tar_make_clustermq(workers = 2) # nolint
# targets::tar_make_future(workers = 2) # nolint
tar_load(ro_2012_p1_final)
ro2_lm2_1 <- glm(voted ~ swd_w1, data = ro_2012_p1_final)
ro2_lm2_2 <- glm(voted ~ swd_w3, data = ro_2012_p1_final)
ro2_lm2_3 <- glm(voted ~ swd_w1 + swd_w3, data = ro_2012_p1_final)
tab_model(list(ro2_lm2_1, ro2_lm2_2, ro2_lm2_3))
ro2_lm3_1 <- lm(swd_diff ~ voted, data = ro_2012_p1_final)
ro2_lm3_2 <- lm(swd_diff ~ voted + swd_w1, data = ro_2012_p1_final)
tab_model(list(ro2_lm3_1, ro2_lm3_2))
ro_2012_p1_final %>% select(Q5LH_CD_w3, Q5LH_CS_w3) %>% table(., useNA = "always")
library(paqr)
ro_2012_p1_final %>% tab(Q5LH_CD_w3, Q5LH_CS_w3)
ro_2012_p1_final %>% tab(P12V, Q5LH_CS_w3)
#!/usr/bin/env Rscript
# This is a helper script to run the pipeline.
# Choose how to execute the pipeline below.
# See https://books.ropensci.org/targets/hpc.html
# to learn about your options.
targets::tar_make()
#!/usr/bin/env Rscript
# This is a helper script to run the pipeline.
# Choose how to execute the pipeline below.
# See https://books.ropensci.org/targets/hpc.html
# to learn about your options.
targets::tar_make()
#!/usr/bin/env Rscript
# This is a helper script to run the pipeline.
# Choose how to execute the pipeline below.
# See https://books.ropensci.org/targets/hpc.html
# to learn about your options.
targets::tar_make()
# targets::tar_make_clustermq(workers = 2) # nolint
# targets::tar_make_future(workers = 2) # nolint
tar_load(ro_2012_p1_final)
ro_2012_p1_final$P12V
table(ro_2012_p1_final$P12V)
table(ro_2012_p1_final$P12V, useNA = "always")
ro_2012_p1_final %>% tab(P12V, Q5LH_CS_w3, stable_voter)
#!/usr/bin/env Rscript
# This is a helper script to run the pipeline.
# Choose how to execute the pipeline below.
# See https://books.ropensci.org/targets/hpc.html
# to learn about your options.
targets::tar_make()
# targets::tar_make_clustermq(workers = 2) # nolint
# targets::tar_make_future(workers = 2) # nolint
tar_load(ro_2012_p2v1)
tar_load(ro_2012_p2v2)
ro_2012_p2v1$D10
ro_2012_p2v2$D10
#!/usr/bin/env Rscript
# This is a helper script to run the pipeline.
# Choose how to execute the pipeline below.
# See https://books.ropensci.org/targets/hpc.html
# to learn about your options.
targets::tar_make()
# targets::tar_make_clustermq(workers = 2) # nolint
# targets::tar_make_future(workers = 2) # nolint
tar_load(ro_2012_p2)
View(ro_2012_p2)
ro_2012_p2$D10_w2
ro_2012_p2$Q19_w3
ro_2012_p2$Q15
ro_2012_p2$Q15_w3
#!/usr/bin/env Rscript
# This is a helper script to run the pipeline.
# Choose how to execute the pipeline below.
# See https://books.ropensci.org/targets/hpc.html
# to learn about your options.
targets::tar_make()
#!/usr/bin/env Rscript
# This is a helper script to run the pipeline.
# Choose how to execute the pipeline below.
# See https://books.ropensci.org/targets/hpc.html
# to learn about your options.
targets::tar_make()
#!/usr/bin/env Rscript
# This is a helper script to run the pipeline.
# Choose how to execute the pipeline below.
# See https://books.ropensci.org/targets/hpc.html
# to learn about your options.
targets::tar_make()
# targets::tar_make_clustermq(workers = 2) # nolint
# targets::tar_make_future(workers = 2) # nolint
tar_load(ro_2012_p2_final)
hist(ro_2012_p2_final$swd_diff_w2)
hist(ro_2012_p2_final$swd_diff_w2, bins = 10)
hist(ro_2012_p2_final$swd_diff_w2, 10)
?hist
hist(ro_2012_p2_final$swd_diff_w2, breaks = 10)
hist(ro_2012_p2_final$swd_diff_w2, breaks = 9)
table(ro_2012_p2_final$swd_diff_w2)
ro_2012_p2$Q5LH_AG1_w3
ro_2012_p2$EDUC_w2
ro_2012_p2$age_w2
ro_2012_p2$Q5LH_CD_w3
ro_2012_p2$P12V_w2
#!/usr/bin/env Rscript
# This is a helper script to run the pipeline.
# Choose how to execute the pipeline below.
# See https://books.ropensci.org/targets/hpc.html
# to learn about your options.
targets::tar_make()
#!/usr/bin/env Rscript
# This is a helper script to run the pipeline.
# Choose how to execute the pipeline below.
# See https://books.ropensci.org/targets/hpc.html
# to learn about your options.
targets::tar_make()
# targets::tar_make_clustermq(workers = 2) # nolint
# targets::tar_make_future(workers = 2) # nolint
tar_load(ro_2012_p2_final)
ro_2012_p2_final
tar_load(ro_2012_p1_final)
#!/usr/bin/env Rscript
# This is a helper script to run the pipeline.
# Choose how to execute the pipeline below.
# See https://books.ropensci.org/targets/hpc.html
# to learn about your options.
targets::tar_make()
# targets::tar_make_clustermq(workers = 2) # nolint
# targets::tar_make_future(workers = 2) # nolint
ro_2012_p2_final$GEN_w2
#!/usr/bin/env Rscript
# This is a helper script to run the pipeline.
# Choose how to execute the pipeline below.
# See https://books.ropensci.org/targets/hpc.html
# to learn about your options.
targets::tar_make()
#!/usr/bin/env Rscript
# This is a helper script to run the pipeline.
# Choose how to execute the pipeline below.
# See https://books.ropensci.org/targets/hpc.html
# to learn about your options.
targets::tar_make()
# targets::tar_make_clustermq(workers = 2) # nolint
# targets::tar_make_future(workers = 2) # nolint
tar_load(ro_2012_all)
ro2_lm3_1b <- lm(swd_diff_w2 ~ voted, data = ro_2012_all)
ro2_lm3_2b <- lm(swd_diff_w2 ~ voted + swd_w1, data = ro_2012_all)
ro2_lm3_2b <- lm(swd_diff_w2 ~ voted + swd_w2, data = ro_2012_all)
tab_model(list(ro2_lm3_1b, ro2_lm3_2b))
ro2_lm3_1 <- lm(swd_diff ~ voted, data = ro_2012_p1_final)
ro2_lm3_2 <- lm(swd_diff ~ voted + swd_w1, data = ro_2012_p1_final)
tab_model(list(ro2_lm3_1, ro2_lm3_2))
# same_candidate_in_2r
ro2_lm5_0 <- lm(swd_diff ~ winner + stable_voter + swd_w1,
data = ro_2012_p1_final)
ro2_lm5_1 <- lm(swd_diff ~ winner * stable_voter + swd_w1,
data = ro_2012_p1_final)
tab_model(list(ro2_lm5_0, ro2_lm5_1))
ro2_lm5_0b <- lm(swd_diff_w2 ~ winner + stable_voter + swd_w2,
data = ro_2012_all)
ro2_lm5_1b <- lm(swd_diff_w2 ~ winner * stable_voter + swd_w2,
data = ro_2012_all)
tab_model(list(ro2_lm5_0b, ro2_lm5_1b))
tab_model(list(ro2_lm5_0, ro2_lm5_1))
ro2_lm5_0b <- lm(swd_diff_w2 ~ winner + stable_voter + swd_w2,
data = ro_2012_all)
ro2_lm5_1b <- lm(swd_diff_w2 ~ winner * stable_voter + swd_w2,
data = ro_2012_all)
tab_model(list(ro2_lm5_0b, ro2_lm5_1b))
ro_2012_all %>% select(winner, stable_voter) %>% table(., useNA = "always")
tar_load(ro_2012_p2_final)
ro_2012_p2_final$Q5LH_CS_w3
table(ro_2012_p2_final$Q5LH_CS_w3)
#!/usr/bin/env Rscript
# This is a helper script to run the pipeline.
# Choose how to execute the pipeline below.
# See https://books.ropensci.org/targets/hpc.html
# to learn about your options.
targets::tar_make()
# targets::tar_make_clustermq(workers = 2) # nolint
# targets::tar_make_future(workers = 2) # nolint
tar_load(de_2021_w18)
de_2021_w18$kp18_020
tar_load(de_2021_w19)
de_2021_w19$kp18_020
de_2021_w18$lfdn
de_2021_w18$sample
colnames(de_2021_w18)
View(de_2021_w18)
View(de_2021_w18$lfdn)
de_2021_w18$lfdn
as.numeric(de_2021_w18$lfdn)
inner_join(
de_2021_w18,
de_2021_w20,
by = "lfdn"
)
tar_load(de_2021_w20)
inner_join(
de_2021_w18,
de_2021_w20,
by = "lfdn"
)
?inner_join
inner_join(
de_2021_w18,
de_2021_w20,
by = "lfdn", suffix = c("_w18", "_w20")
)
inner_join(
de_2021_w18,
de_2021_w20,
by = "lfdn", suffix = c("_w18", "_w20")
) -> tmp
table(tmp$kp20_2601)
tmp$kp20_2601
#!/usr/bin/env Rscript
# This is a helper script to run the pipeline.
# Choose how to execute the pipeline below.
# See https://books.ropensci.org/targets/hpc.html
# to learn about your options.
targets::tar_make()
# targets::tar_make_clustermq(workers = 2) # nolint
# targets::tar_make_future(workers = 2) # nolint
tar_load(de_2021_panel)
de_2021_panel %>% filter(kp20_2601 != "Berlin")
de_2021_panel$kp18_020
table(de_2021_panel$kp18_020)
table(de_2021_panel$kp20_180)
de_2021_panel$kp20_180
levels(de_2021_panel$kp20_180)
de_2021_panel$kp20_180
table(de_2021_panel$kp20_180)
table(de_2021_panel$kp18_170)
de_2021_panel$kp18_170
attr(de_2021_panel$kp18_170, "labels")
levels(de_2021_panel$kp18_170)
table(de_2021_panel$kp18_170)
table(de_2021_panel$kp20_200b)
table(de_2021_panel$kp20_200)
table(de_2021_panel$kp20_200aa)
table(de_2021_panel$kp20_200aa, useNA = "always")
table(de_2021_panel$kp20_200ab, useNA = "always")
table(de_2021_panel$kp20_200ba, useNA = "always")
table(de_2021_panel$kp20_200bb, useNA = "always")
de_2021_panel$kp20_200bb
de_2021_panel$kp20_200ba
de_2021_panel$kp20_200ba
levels(de_2021_panel$kp20_200bb)
levels(de_2021_panel$kp20_200ba)
levels(de_2021_panel$kp20_2280)
table(de_2021_panel$kp20_2280)
table(de_2021_panel$kp20_2290_c2)
table(de_2021_panel$kp20_2280)
table(de_2021_panel$kp20_3490)
de_lm2_1 <- glm(voted ~ swd_w18, data = de_2021_panel)
#!/usr/bin/env Rscript
# This is a helper script to run the pipeline.
# Choose how to execute the pipeline below.
# See https://books.ropensci.org/targets/hpc.html
# to learn about your options.
targets::tar_make()
#!/usr/bin/env Rscript
# This is a helper script to run the pipeline.
# Choose how to execute the pipeline below.
# See https://books.ropensci.org/targets/hpc.html
# to learn about your options.
targets::tar_make()
#!/usr/bin/env Rscript
# This is a helper script to run the pipeline.
# Choose how to execute the pipeline below.
# See https://books.ropensci.org/targets/hpc.html
# to learn about your options.
targets::tar_make()
# targets::tar_make_clustermq(workers = 2) # nolint
# targets::tar_make_future(workers = 2) # nolint
de_lm3_1 <- lm(swd_diff ~ voted, data = de_2021_final)
tar_load(de_2021_final)
de_lm3_1 <- lm(swd_diff ~ voted, data = de_2021_final)
de_lm3_2 <- lm(swd_diff ~ voted + swd_w18, data = de_2021_final)
tab_model(list(de_lm3_1, de_lm3_2))
de_lm3_1b <- lm(swd_diff ~ voted, data = de_2021_final %>% filter(kp20_2601 != "Berlin"))
de_lm3_2b <- lm(swd_diff ~ voted + swd_w18, data = de_2021_final %>% filter(kp20_2601 != "Berlin"))
tab_model(list(de_lm3_1, de_lm3_2))
tab_model(list(de_lm3_1b, de_lm3_2b))
library(targets)
tar_load(eu_2019)
eu_2019$W1_Day_End
eu_2019 %>% filter(W1_S0 == "Poland")
library(dplyr)
eu_2019 %>% filter(W1_S0 == "Poland")
eu_2019 %>% filter(W1_S0 == "Poland") %>% select(W1_Day_End, W1_Month_End, W1_Day_Start, W1_Day_Start) %>% unique()
eu_2019 %>% filter(W1_S0 == "Poland") %>% select(W1_Day_End, W1_Month_End, W1_Day_Start, W1_Day_Start) %>% unique() %>% View
eu_2019 %>% filter(W1_S0 == "Poland") %>% select(W2_Day_End, W2_Month_End, W2_Day_Start, W2_Month_Start) %>% unique() %>% View
eu_2019 %>% filter(W1_S0 == "Hungary") %>% select(W2_Day_End, W2_Month_End, W2_Day_Start, W2_Month_Start) %>% unique() %>% View
eu_2019 %>% filter(W2_S0 == "Hungary") %>% select(W1_Day_End, W1_Month_End, W1_Day_Start, W1_Day_Start) %>% unique() %>% View
eu_2019 %>% filter(W2_S0 == "Hungary") %>% select(W1_Day_End, W1_Month_End, W1_Day_Start, W1_Day_Start) %>% unique() %>% View
eu_2019 %>% filter(W2_S0 == "Hungary") %>% select(W2_Day_End, W2_Month_End, W2_Day_Start, W2_Month_Start) %>% unique() %>% View
library(targets)
library(tarchetypes) # Load other packages as needed. # nolint
# Set target options:
tar_option_set(
packages = c("tibble", "haven", "here", "dplyr",
"labelled"), # packages that your targets need to run
format = "rds" # default storage format
# Set other options as needed.
)
# tar_make_clustermq() configuration (okay to leave alone):
options(clustermq.scheduler = "multicore")
tar_source()
normalize_scale
library(targets)
tar_load(all_panels)
table(all_panels$swd_pre)
table(all_panels$swd_diff)
tar_load(de_2017_final)
table(de_2017_final$voted_post)
colnames(de_2017_final)
551 / 2803
de_2017_final %>% select(ends_with("_170"))
library(dplyr)
de_2017_final %>% select(ends_with("_170"))
de_2017_final %>% select(ends_with("_020"))
tar_load(cz_1996)
cz_1996 %>% tab(swd_pre, swd_post)
library(paqr)
cz_1996 %>% tab(swd_pre, swd_post)
cz_1996 %>% tab(., swd_pre, swd_post)
cz_1996 %>% as_factor %>% tab(., swd_pre, swd_post)
library(haven)
cz_1996 %>% as_factor %>% tab(., swd_pre, swd_post)
cz_1996$swd_pre
tar_make()
tar_load(cz_1996)
tar_load(cz_96_pre)
cz_96_pre$V29
library(targets)
tar_load(ro_2009_final)
ro_2009_final$swd_diff
mean(ro_2009_final$swd_diff)
mean(ro_2009_final$swd_diff, na.rm = TRUE)
knitr::opts_chunk$set(echo = TRUE, warning = FALSE)
library(dplyr)
library(targets)
library(sjPlot)
library(modelsummary)
ro_2009_final %>%
select(swd_pre, swd_post) %>%
table(., useNA = "always")
tar_load(ro_2012_all)
ro_2012_all %>%
select(swd_pre, swd_post) %>%
table(., useNA = "always")
mean(ro_2012_all$swd_diff_w2, na.rm = TRUE)
mean(ro_2009_final$swd_diff, na.rm = TRUE)
mean(cz_1996$swd_diff, na.rm = TRUE)
tar_load(cz_1996)
cz_1996 %>%
select(swd_pre, swd_post) %>%
table(., useNA = "always")
mean(cz_1996$swd_diff, na.rm = TRUE)
mean(pl_2019$swd_diff, na.rm = TRUE)
tar_load(pl_2019)
mean(pl_2019$swd_diff, na.rm = TRUE)
pl_2019 %>%
select(swd_pre, swd_post) %>%
table(., useNA = "always")
mean(pl_2019$swd_pre, na.rm = TRUE)
mean(pl_2019$swd_post, na.rm = TRUE)
mean(pl_2019$swd_diff, na.rm = TRUE)
mean(pl_2019$swd_pre, na.rm = TRUE)
mean(pl_2019$swd_post, na.rm = TRUE)
mean(pl_2019$swd_diff, na.rm = TRUE)
mean(cz_1996$swd_pre, na.rm = TRUE)
mean(cz_1996$swd_post, na.rm = TRUE)
mean(cz_1996$swd_diff, na.rm = TRUE)
mean(ro_2009_final$swd_pre, na.rm = TRUE)
mean(ro_2009_final$swd_post, na.rm = TRUE)
mean(ro_2009_final$swd_diff, na.rm = TRUE)
mean(ro_2009_final$swd_pre, na.rm = TRUE)
mean(ro_2009_final$swd_post, na.rm = TRUE)
mean(ro_2009_final$swd_diff, na.rm = TRUE)
ro_2009_final %>%
select(swd_pre, swd_post) %>%
table(., useNA = "always")
mean(ro_2009_final$swd_pre, na.rm = TRUE)
ro_2009_final %>%
select(swd_pre, swd_post) %>%
table(., useNA = "always")
mean(ro_2009_final$swd_pre, na.rm = TRUE)
mean(ro_2009_final$swd_post, na.rm = TRUE)
mean(ro_2009_final$swd_diff, na.rm = TRUE)
mean(ro_2012_all$swd_pre, na.rm = TRUE)
mean(ro_2012_all$swd_post, na.rm = TRUE)
mean(ro_2012_all$swd_diff_w2, na.rm = TRUE)
tar_load(hu_2019)
hu_2019 %>%
select(swd_pre, swd_post) %>%
table(., useNA = "always")
mean(hu_2019$swd_pre, na.rm = TRUE)
mean(hu_2019$swd_post, na.rm = TRUE)
mean(hu_2019$swd_diff, na.rm = TRUE)
tar_load(de_2017_final)
de_2017_final %>%
select(swd_pre, swd_post) %>%
table(., useNA = "always")
mean(de_2017_final$swd_pre, na.rm = TRUE)
mean(de_2017_final$swd_post, na.rm = TRUE)
mean(de_2017_final$swd_diff, na.rm = TRUE)
mean(de_2017_final$swd_pre, na.rm = TRUE)
mean(de_2017_final$swd_post, na.rm = TRUE)
mean(de_2017_final$swd_diff, na.rm = TRUE)
tar_load(all_panels)
table(all_panels$swd_pre)
table(all_panels$swd_post)
table(all_panels$swd_post, useNA = TRUE)
table(all_panels$swd_post, useNA = "always")
hist(all_panels$swd_post)
hist(all_panels$swd_pre)
hist(all_panels$swd_post)
paqr::olabelovat
