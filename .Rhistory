stars = TRUE
)
atr_ro09 <- glm(attrition_w2 ~ swd_pre,
data = all_panels_attrition %>%
filter(election == "RO 2009"))
atr_ro12 <- glm(attrition_w2 ~ swd_pre,
data = all_panels_attrition %>%
filter(election == "RO 2012"))
modelsummary(
list("All panels"=atr_all,
"CZ 1996"=atr_cz96,
"Germany 2017"=atr_de17,
"Hungary 2019"=atr_hu19,
"Poland 2019"=atr_pl19,
"Romania 2009"=atr_ro09,
"Romania 2012"=atr_ro12),
stars = TRUE
)
modelsummary(
list("All panels"=atr_all,
"CZ 1996"=atr_cz96,
"Germany 2017"=atr_de17,
"Hungary 2019"=atr_hu19,
"Poland 2019"=atr_pl19,
"Romania 2009"=atr_ro09,
"Romania 2012"=atr_ro12),
stars = TRUE,
gof_map = c("nobs", "r.squared", "adj.r.squared")
)
atr_cz23 <- glm(attrition_w2 ~ swd_pre,
data = all_panels_attrition %>%
filter(election == "CZ 2023"))
modelsummary(
list("All panels"=atr_all,
"CZ 1996"=atr_cz96,
"CZ 2023"=atr_cz23,
"Germany 2017"=atr_de17,
"Hungary 2019"=atr_hu19,
"Poland 2019"=atr_pl19,
"Romania 2009"=atr_ro09,
"Romania 2012"=atr_ro12),
stars = TRUE,
gof_map = c("nobs", "r.squared", "adj.r.squared")
)
cz_2023_all_waves_resp$PRES2023CAND2r_w4
cz_2023_all_waves_resp %>%
group_by(PRES2023CAND2r_w4) %>%
summarise(n = sum(weight_turnout), .groups = "drop") %>%
mutate(pct = n / sum(n) * 100)
cz_2023_all_waves_resp %>%
group_by(PRES2023CAND2r_w4) %>%
summarise(n = n(), .groups = "drop") %>%
mutate(pct = n / sum(n) * 100)
cz_2023_all_waves_resp %>%
group_by(PRES2023CAND2r_w4) %>%
summarise(n = sum(weight_turnout), .groups = "drop") %>%
mutate(pct = n / sum(n) * 100)
cz_2023_all_waves_resp %>%
group_by(PRES2023CAND2r_w4) %>%
summarise(n = n(), .groups = "drop") %>%
mutate(pct = n / sum(n) * 100)
cz_2023_true_w2 <- tribble(
~vote, ~pct,
"nevolič", 29.75,
"Babiš", 29.27,
"Pavel", 40.97
)
cz_2023_all_waves_resp %>%
group_by(PRES2023CAND2r_w4) %>%
summarise(n = n(), .groups = "drop") %>%
mutate(pct = n / sum(n) * 100)
cz_2023_true_w2 <- tribble(
~vote, ~pct_true,
"nevolič", 29.75,
"Babiš", 29.27,
"Pavel", 40.97
)
cz_2023_all_waves_resp %>%
group_by(PRES2023CAND2r_w4) %>%
summarise(n = n(), .groups = "drop") %>%
mutate(pct = n / sum(n) * 100)
cz_2023_all_waves_resp %>%
group_by(PRES2023CAND2r_w4) %>%
summarise(n = n(), .groups = "drop") %>%
mutate(pct = n / sum(n) * 100) %>%
left_join(., cz_2023_true_w2,
by = c("PRES2023CAND2r_w4"="vote"))
cz_2023_true_w2 <- tribble(
~vote, ~pct_true,
"nevolič", 29.75,
"Andrej Babiš", 29.27,
"Petr Pavel", 40.97
)
cz_2023_all_waves_resp %>%
group_by(PRES2023CAND2r_w4) %>%
summarise(n = n(), .groups = "drop") %>%
mutate(pct = n / sum(n) * 100) %>%
left_join(., cz_2023_true_w2,
by = c("PRES2023CAND2r_w4"="vote"))
cz_2023_all_waves_resp %>%
group_by(PRES2023CAND2r_w4) %>%
summarise(n = sum(weight_turnout), .groups = "drop") %>%
# summarise(n = n(), .groups = "drop") %>%
mutate(pct = n / sum(n) * 100) %>%
left_join(., cz_2023_true_w2,
by = c("PRES2023CAND2r_w4"="vote"))
cz_2023_all_waves_resp %>%
group_by(PRES2023CAND2r_w4) %>%
# summarise(n = sum(weight_turnout), .groups = "drop") %>%
summarise(n = n(), .groups = "drop") %>%
mutate(pct = n / sum(n) * 100) %>%
left_join(., cz_2023_true_w2,
by = c("PRES2023CAND2r_w4"="vote"))
cz_2023_all_waves_resp %>%
group_by(PRES2023CAND1r_w3) %>%
# summarise(n = sum(weight_turnout), .groups = "drop") %>%
summarise(n = n(), .groups = "drop") %>%
mutate(pct = n / sum(n) * 100) # %>%
cz_2023_true_w1 <- tribble(
~vote, ~pct_true,
"nevolič" , 31.76,
"Andrej Babiš" , 23.88,
"Petr Pavel" , 24.16,
"Danuše Nerudová" , 9.50,
"Pavel Fischer" , 4.61,
"Jaroslav Bašta" , 3.04,
"Marek Hilšer" , 1.75,
"Karel Diviš" , 0.92,
"Tomáš Zima" , 0.38,
)
cz_2023_all_waves_resp %>%
group_by(PRES2023CAND1r_w3) %>%
# summarise(n = sum(weight_turnout), .groups = "drop") %>%
summarise(n = n(), .groups = "drop") %>%
mutate(pct = n / sum(n) * 100) %>%
left_join(., cz_2023_true_w1,
by = c("PRES2023CAND1r_w3"="vote"))
cz_2023_all_waves_resp %>%
group_by(PRES2023CAND2r_w4) %>%
# summarise(n = sum(weight_turnout), .groups = "drop") %>%
summarise(n = n(), .groups = "drop") %>%
mutate(pct = n / sum(n) * 100) %>%
left_join(., cz_2023_true_w2,
by = c("PRES2023CAND2r_w4"="vote"))
cz_2023_all_waves_resp %>%
group_by(PRES2023CAND1r_w3) %>%
# summarise(n = sum(weight_turnout), .groups = "drop") %>%
summarise(n = n(), .groups = "drop") %>%
mutate(pct = n / sum(n) * 100) %>%
left_join(., cz_2023_true_w1,
by = c("PRES2023CAND1r_w3"="vote"))
cz_1996$V3_w1
cz_1996$vote_choice
table(cz_1996$vote_choice)
all_panels$vote_choice
table(all_panels$vote_choice)
library(paqr)
all_panels %>% select(election, vote_choice) %>% table()
all_panels_both_waves %>% filter(election == "RO 2012") %>% select(vote_choice)
all_panels_both_waves %>% filter(election == "RO 2012") %>% select(vote_choice) %>% table()
all_panels_both_waves %>%
filter(election == "CZ 1996") %>%
group_by(vote_choice) %>%
summarise(n = n())
all_panels_both_waves %>%
filter(election == "CZ 1996") %>%
group_by(vote_choice) %>%
summarise(n = n(), .groups = "drop") %>%
mutate(pct = n / sum(n) * 100)
all_panels_both_waves %>%
filter(election == "CZ 1996") %>%
group_by(vote_choice) %>%
summarise(n = n(), .groups = "drop") %>%
mutate(pct = n / sum(n) * 100) %>%
arrange(desc(pct))
all_panels_both_waves %>%
filter(election == "CZ 1996") %>%
group_by(vote_choice) %>%
summarise(n = n(), .groups = "drop") %>%
mutate(pct = n / sum(n) * 100) %>%
arrange(desc(pct))
cz_1996_results <- tribble(
~vote, ~pct_true,
"Did not vote", 23.6,
"ODS", 	22.6,
"CSSD", 	20.2,
"KSCM", 	7.9,
"KDU-CSL",	6.2,
"SPR-RSC",	6.1,
"ODA", 	4.9,
"DZJ", 	2.4,
"Others", 	6.2
)
cz_1996_results <- tribble(
~vote, ~pct_true,
"Did not vote", 23.6,
"ODS", 	22.6,
"CSSD", 	20.2,
"KSCM", 	7.9,
"KDU-CSL",	6.2,
"SPR-RSC",	6.1,
"ODA", 	4.9,
"DZJ", 	2.4,
"Others", 	6.2
)
all_panels_both_waves %>%
filter(election == "CZ 1996") %>%
group_by(vote_choice) %>%
mutate(vote_choice = if_else(vote_choice %in% cz_1996_results$vote,
vote_choice, "Others")) %>%
summarise(n = n(), .groups = "drop") %>%
mutate(pct = n / sum(n) * 100) %>%
arrange(desc(pct))
all_panels_both_waves %>%
filter(election == "CZ 1996") %>%
group_by(vote_choice) %>%
mutate(vote_choice = if_else(vote_choice %in% cz_1996_results$vote,
vote_choice, "Others")) %>%
summarise(n = n(), .groups = "drop") %>%
mutate(pct = n / sum(n) * 100) %>%
arrange(desc(pct)) %>%
left_join(., cz_1996_results, by = c("vote_choice"="vote"))
cz_1996_results <- tribble(
~vote, ~pct_true,
"ODS", 	22.6,
"CSSD", 	20.2,
"KSCM", 	7.9,
"KDU-CSL",	6.2,
"SPR-RSC",	6.1,
"ODA", 	4.9,
"DZJ", 	2.4,
"Others", 6.2,
"Did not vote", 23.6
)
all_panels_both_waves %>%
filter(election == "CZ 1996") %>%
group_by(vote_choice) %>%
mutate(vote_choice = if_else(vote_choice %in% cz_1996_results$vote,
vote_choice, "Others")) %>%
summarise(n = n(), .groups = "drop") %>%
mutate(pct = n / sum(n) * 100) %>%
arrange(desc(pct)) %>%
left_join(., cz_1996_results, by = c("vote_choice"="vote"))
all_panels_both_waves$election %>% unique()
all_panels_both_waves %>%
filter(election == "PL 2019") %>%
summarise(n = n(), .groups = "drop") %>%
mutate(pct = n / sum(n) * 100)
all_panels_both_waves %>%
filter(election == "PL 2019") %>%
group_by(vote_choice) %>%
summarise(n = n(), .groups = "drop") %>%
mutate(pct = n / sum(n) * 100)
pl_2019_results <- tribble(
~vote, ~pct,
"Did not vote",	54.30,
"PiS/Zjednoczsona Prawica", 20.74,
"PSL-PO-.N-SLD-Zielo", 17.58,
"Wiosna",	2.77,
"Kukiz'15 (K'15)", 1.69,
"Wolnosc (KORWIN)-Ruch Narodowy", 2.08,
"Partia Razem", 0.57,
"Others", 0.28
)
all_panels_both_waves %>%
filter(election == "PL 2019") %>%
mutate(vote_choice = if_else(is.na(vote_choice),
"Did not vote", vote_choice)) %>%
mutate(vote_choice = if_else(vote_choice %in% pl_2019_results$vote,
vote_choice, "Others")) %>%
group_by(vote_choice) %>%
summarise(n = n(), .groups = "drop") %>%
mutate(pct = n / sum(n) * 100) %>%
left_join(., pl_2019_results, by = c("vote_choice"="vote"))
pl_2019_results <- tribble(
~vote, ~pct_results,
"Did not vote",	54.30,
"PiS/Zjednoczsona Prawica", 20.74,
"PSL-PO-.N-SLD-Zielo", 17.58,
"Wiosna",	2.77,
"Kukiz'15 (K'15)", 1.69,
"Wolnosc (KORWIN)-Ruch Narodowy", 2.08,
"Partia Razem", 0.57,
"Others", 0.28
)
all_panels_both_waves %>%
filter(election == "PL 2019") %>%
mutate(vote_choice = if_else(is.na(vote_choice),
"Did not vote", vote_choice)) %>%
mutate(vote_choice = if_else(vote_choice %in% pl_2019_results$vote,
vote_choice, "Others")) %>%
group_by(vote_choice) %>%
summarise(n = n(), .groups = "drop") %>%
mutate(pct = n / sum(n) * 100) %>%
left_join(., pl_2019_results, by = c("vote_choice"="vote"))
all_panels_both_waves %>%
filter(election == "HU 2019") %>%
mutate(vote_choice = if_else(is.na(vote_choice),
"Did not vote", vote_choice)) %>%
# mutate(vote_choice = if_else(vote_choice %in% pl_2019_results$vote,
#                              vote_choice, "Others")) %>%
group_by(vote_choice) %>%
summarise(n = n(), .groups = "drop") %>%
mutate(pct = n / sum(n) * 100)
all_panels_both_waves %>%
filter(election == "PL 2019") %>%
filter(vote_choice != "Refuse") %>%
mutate(vote_choice = if_else(is.na(vote_choice),
"Did not vote", vote_choice)) %>%
mutate(vote_choice = if_else(vote_choice %in% pl_2019_results$vote,
vote_choice, "Others")) %>%
group_by(vote_choice) %>%
summarise(n = n(), .groups = "drop") %>%
mutate(pct = n / sum(n) * 100) %>%
left_join(., pl_2019_results, by = c("vote_choice"="vote"))
all_panels_both_waves %>%
filter(election == "HU 2019") %>%
mutate(vote_choice = if_else(is.na(vote_choice),
"Did not vote", vote_choice)) %>%
# mutate(vote_choice = if_else(vote_choice %in% pl_2019_results$vote,
#                              vote_choice, "Others")) %>%
group_by(vote_choice) %>%
summarise(n = n(), .groups = "drop") %>%
mutate(pct = n / sum(n) * 100)
all_panels_both_waves %>%
filter(election == "HU 2019") %>%
filter(vote_choice != "Refuse") %>%
mutate(vote_choice = if_else(is.na(vote_choice),
"Did not vote", vote_choice)) %>%
# mutate(vote_choice = if_else(vote_choice %in% pl_2019_results$vote,
#                              vote_choice, "Others")) %>%
group_by(vote_choice) %>%
summarise(n = n(), .groups = "drop") %>%
mutate(pct = n / sum(n) * 100)
all_panels_both_waves %>%
filter(election == "HU 2019") %>% select(vote_choice) %>% table(., useNA = "always")
all_panels_both_waves %>%
filter(election == "HU 2019") %>%
mutate(vote_choice = if_else(is.na(vote_choice),
"Did not vote", vote_choice)) %>%
filter(vote_choice != "Refuse") %>%
# mutate(vote_choice = if_else(vote_choice %in% pl_2019_results$vote,
#                              vote_choice, "Others")) %>%
group_by(vote_choice) %>%
summarise(n = n(), .groups = "drop") %>%
mutate(pct = n / sum(n) * 100)
hu_2019_results <- tribble(
~vote_choice, ~pct_results,
"Did not vote",	56.52,
"FIDESZ-KNDP",	22.85,
"Demokratikus KoalÃ­ciÃ³ (DK)",	6.98,
"Momentum Mozgalom (MM)", 4.32,
"MSZP-PM", 2.87,
"JOBBIK",	2.76,
"Mi HazÃ¡nk Mozgalom (MH)",	1.43,
"Lehet MÃ¡s a Politika (LMP)", 1.14,
"Other party",	1.13
)
all_panels_both_waves %>%
filter(election == "HU 2019") %>%
mutate(vote_choice = if_else(is.na(vote_choice),
"Did not vote", vote_choice)) %>%
filter(vote_choice != "Refuse") %>%
# mutate(vote_choice = if_else(vote_choice %in% pl_2019_results$vote,
#                              vote_choice, "Others")) %>%
group_by(vote_choice) %>%
summarise(n = n(), .groups = "drop") %>%
mutate(pct = n / sum(n) * 100) %>%
left_join(., hu_2019_results, by = "vote_choice")
all_panels_both_waves %>%
filter(election == "HU 2019") %>%
mutate(vote_choice = if_else(is.na(vote_choice),
"Did not vote", vote_choice)) %>%
filter(vote_choice != "Refuse") %>%
mutate(vote_choice = if_else(vote_choice %in% hu_2019_results$vote,
vote_choice, "Others")) %>%
group_by(vote_choice) %>%
summarise(n = n(), .groups = "drop") %>%
mutate(pct = n / sum(n) * 100) %>%
left_join(., hu_2019_results, by = "vote_choice")
hu_2019_results <- tribble(
~vote_choice, ~pct_results,
"Did not vote",	56.52,
"FIDESZ-KNDP",	22.85,
"Demokratikus KoalÃ­ciÃ³ (DK)",	6.98,
"Momentum Mozgalom (MM)", 4.32,
"MSZP-PM", 2.87,
"JOBBIK",	2.76,
"Mi HazÃ¡nk Mozgalom (MH)",	1.43,
"Lehet MÃ¡s a Politika (LMP)", 1.14,
"Others",	1.13
)
all_panels_both_waves %>%
filter(election == "HU 2019") %>%
mutate(vote_choice = if_else(is.na(vote_choice),
"Did not vote", vote_choice)) %>%
filter(vote_choice != "Refuse") %>%
mutate(vote_choice = if_else(vote_choice %in% hu_2019_results$vote,
vote_choice, "Others")) %>%
group_by(vote_choice) %>%
summarise(n = n(), .groups = "drop") %>%
mutate(pct = n / sum(n) * 100) %>%
left_join(., hu_2019_results, by = "vote_choice")
all_panels_both_waves %>%
filter(election == "HU 2019") %>%
mutate(vote_choice = if_else(is.na(vote_choice),
"Did not vote", vote_choice)) %>%
filter(vote_choice != "Refuse") %>%
mutate(vote_choice = if_else(vote_choice %in%
hu_2019_results$vote_choice,
vote_choice, "Others")) %>%
group_by(vote_choice) %>%
summarise(n = n(), .groups = "drop") %>%
mutate(pct = n / sum(n) * 100) %>%
left_join(., hu_2019_results, by = "vote_choice")
all_panels_both_waves %>%
filter(election == "RO 2009") %>% select(vote_choice) %>% table()
all_panels_both_waves %>%
filter(election == "RO 2009") %>% select(vote_choice) %>% table(., useNA = "always")
all_panels_both_waves %>%
filter(election == "RO 2009") %>%
mutate(vote_choice = if_else(is.na(vote_choice),
"Did not vote", vote_choice)) %>%
filter(vote_choice != "Refuse") %>%
# mutate(vote_choice = if_else(vote_choice %in%
#                                ro_2019_results$vote_choice,
#                              vote_choice, "Others")) %>%
group_by(vote_choice) %>%
summarise(n = n(), .groups = "drop") %>%
mutate(pct = n / sum(n) * 100) # %>%
all_panels_both_waves %>%
filter(election == "RO 2012") %>%
mutate(vote_choice = if_else(is.na(vote_choice),
"Did not vote", vote_choice)) %>%
filter(vote_choice != "Refuse") %>%
# mutate(vote_choice = if_else(vote_choice %in%
#                                ro_2019_results$vote_choice,
#                              vote_choice, "Others")) %>%
group_by(vote_choice) %>%
summarise(n = n(), .groups = "drop") %>%
mutate(pct = n / sum(n) * 100) # %>%
all_panels_both_waves %>%
filter(election == "RO 2012") %>%
mutate(vote_choice = if_else(is.na(vote_choice),
"Did not vote", vote_choice)) %>%
filter(vote_choice != "Refuse") %>%
mutate(vote_choice = case_when(
vote_choice %in% c("Partidul Democrat Liberal (PDL)",
"Forta Civica (FC)",
"Partidul National Taranesc Crestin Democrat (PNTCD)") ~ "Alianta România Dreapta (ARD: PDL+PNT-CD+FC)",
vote_choice %in% c("Partidul Social Democrat (PSD)") ~
"Uniunea Social-Liberala (USL: PSD+PNL+PC+UNPR)",
TRUE ~ vote_choice
)) %>%
mutate(vote_choice = if_else(vote_choice %in%
ro_2012_results$vote_choice,
vote_choice, "Others")) %>%
group_by(vote_choice) %>%
summarise(n = n(), .groups = "drop") %>%
mutate(pct = n / sum(n) * 100) # %>%
ro_2012_results <- tribble(
~vote_choice, ~pct_results,
"Did not vote",	58.24,
"Uniunea Social-Liberala (USL: PSD+PNL+PC+UNPR)",	24.48,
"Alianta România Dreapta (ARD: PDL+PNT-CD+FC)",	6.89,
"Partidul Poporului - Dan Diaconescu (PP-DD)",	5.84,
"Uniunea Democrata a Maghiarilor din România (UDMR)", 2.14,
"Partidul România Mare (PRM)", 0.52,
"Others",	1.88
)
all_panels_both_waves %>%
filter(election == "RO 2012") %>%
mutate(vote_choice = if_else(is.na(vote_choice),
"Did not vote", vote_choice)) %>%
filter(vote_choice != "Refuse") %>%
mutate(vote_choice = case_when(
vote_choice %in% c("Partidul Democrat Liberal (PDL)",
"Forta Civica (FC)",
"Partidul National Taranesc Crestin Democrat (PNTCD)") ~ "Alianta România Dreapta (ARD: PDL+PNT-CD+FC)",
vote_choice %in% c("Partidul Social Democrat (PSD)") ~
"Uniunea Social-Liberala (USL: PSD+PNL+PC+UNPR)",
TRUE ~ vote_choice
)) %>%
mutate(vote_choice = if_else(vote_choice %in%
ro_2012_results$vote_choice,
vote_choice, "Others")) %>%
group_by(vote_choice) %>%
summarise(n = n(), .groups = "drop") %>%
mutate(pct = n / sum(n) * 100) # %>%
all_panels_both_waves %>%
filter(election == "RO 2012") %>%
mutate(vote_choice = if_else(is.na(vote_choice),
"Did not vote", vote_choice)) %>%
filter(vote_choice != "Refuse") %>%
mutate(vote_choice = case_when(
vote_choice %in% c("Partidul Democrat Liberal (PDL)",
"Forta Civica (FC)",
"Partidul National Taranesc Crestin Democrat (PNTCD)") ~ "Alianta România Dreapta (ARD: PDL+PNT-CD+FC)",
vote_choice %in% c("Partidul Social Democrat (PSD)") ~
"Uniunea Social-Liberala (USL: PSD+PNL+PC+UNPR)",
TRUE ~ vote_choice
)) %>%
mutate(vote_choice = if_else(vote_choice %in%
ro_2012_results$vote_choice,
vote_choice, "Others")) %>%
group_by(vote_choice) %>%
summarise(n = n(), .groups = "drop") %>%
mutate(pct = n / sum(n) * 100) %>%
left_join(., ro_2012_results, by = "vote_choice")
table(all_panels$election)
all_panels %>% filter(election == "RO 2009") %>% View
tar_make()
